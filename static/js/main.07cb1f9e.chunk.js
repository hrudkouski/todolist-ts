(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{101:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(9),o=n.n(i);n(76),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,r,l=n(22),u=n(40),d=n(23),j=n(10),b=n(58),f=n.n(b).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"3af7a44d-0a6b-4bf7-b34b-b5730fa5756f"}});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(s||(s={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(r||(r={}));var O=function(){return f.get("todo-lists")},h=function(t){return f.post("todo-lists",{title:t})},k=function(t){return f.delete("todo-lists/".concat(t))},p=function(t,e){return f.put("todo-lists/".concat(e),{title:t})},v=function(t){return f.get("todo-lists/".concat(t,"/tasks"))},m=function(t,e){return f.post("todo-lists/".concat(e,"/tasks"),{title:t})},T=function(t,e){return f.delete("todo-lists/".concat(e,"/tasks/").concat(t))},x=function(t,e,n){return f.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},C="todolist-ts/todolists-reducer/SET_TODOLISTS",g="todolist-ts/todolists-reducer/ADD_TODOLIST",y="todolist-ts/todolists-reducer/REMOVE_TODOLIST",L="todolist-ts/todolists-reducer/CHANGE_TODOLIST_TITLE",I="todolist-ts/todolists-reducer/CHANGE_TODOLIST_FILTER",D=[],S=function(){return function(t){O().then((function(e){var n;t((n=e.data,{type:C,todolists:n}))}))}},w=function(t){return function(e){h(t).then((function(t){var n;0===t.data.resultCode&&e((n=t.data.data.item,{type:g,todolist:n}))}))}},E=function(t){return function(e){k(t).then((function(n){0===n.data.resultCode&&e({type:y,id:t})}))}},A=function(t,e){return function(n){p(t,e).then((function(c){0===c.data.resultCode&&n(function(t,e){return{type:L,id:t,title:e}}(e,t))}))}},_="todolist-ts/tasks-reducer/SET_TASKS",N="todolist-ts/tasks-reducer/ADD_TASK",K="todolist-ts/tasks-reducer/REMOVE_TASK",P="todolist-ts/tasks-reducer/UPDATE_TASK",F={},H=function(t){return function(e){v(t).then((function(n){e(function(t,e){return{type:_,tasks:t,todoListID:e}}(n.data.items,t))}))}},M=function(t,e){return function(n){m(t,e).then((function(t){var e;0===t.data.resultCode&&n((e=t.data.data.item,{type:N,task:e}))}))}},R=function(t,e){return function(n){T(t,e).then((function(c){0===c.data.resultCode&&n(function(t,e){return{type:K,taskID:t,todoListID:e}}(t,e))}))}},U=function(t,e,n){return function(c,a){var i=a().tasks[n].find((function(e){return e.id===t}));if(i){var o=Object(j.a)({description:i.description,title:i.title,status:i.status,priority:i.priority,startDate:i.startDate,deadline:i.deadline},e);x(n,t,o).then((function(a){0===a.data.resultCode&&c(function(t,e,n){return{type:P,taskId:t,model:e,todoListID:n}}(t,e,n))}))}}},B=n(41),q=n(59),G=Object(B.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:return Object(j.a)(Object(j.a)({},t),{},Object(d.a)({},e.todoListID,e.tasks));case N:return Object(j.a)(Object(j.a)({},t),{},Object(d.a)({},e.task.todoListId,[e.task].concat(Object(u.a)(t[e.task.todoListId]))));case K:return Object(j.a)(Object(j.a)({},t),{},Object(d.a)({},e.todoListID,t[e.todoListID].filter((function(t){return t.id!==e.taskID}))));case P:return Object(j.a)(Object(j.a)({},t),{},Object(d.a)({},e.todoListID,t[e.todoListID].map((function(t){return t.id===e.taskId?Object(j.a)(Object(j.a)({},t),e.model):t}))));case C:var n=Object(j.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case g:return Object(j.a)(Object(j.a)({},t),{},Object(d.a)({},e.todolist.id,[]));case y:var c=Object(j.a)({},t);return delete c[e.id],c;default:return t}},todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return e.todolists.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{filter:"all"})}));case g:return[Object(j.a)(Object(j.a)({},e.todolist),{},{filter:"all"})].concat(Object(u.a)(t));case y:return t.filter((function(t){return t.id!==e.id}));case L:return t.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{title:e.title}):t}));case I:return t.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{filter:e.filter}):t}));default:return t}}}),J=Object(B.c)(G,Object(B.a)(q.a));window.store=J;n(98);var V=n(137),W=n(138),z=n(132),Y=n(140),$=n(135),Q=n(141),X=n(139),Z=n(136),tt=n(102),et=n(29),nt=n(142),ct=n(133),at=n(5),it=a.a.memo((function(t){var e=t.addItem,n=Object(c.useState)(null),a=Object(et.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(""),r=Object(et.a)(s,2),l=r[0],u=r[1],d=function(){var t=l.trim();t?(e(t),u("")):o("Title is required")};return Object(at.jsxs)("div",{children:[Object(at.jsx)(nt.a,{size:"small",value:l,onKeyPress:function(t){null!==i&&o(null),"Enter"===t.key&&d()},onChange:function(t){u(t.currentTarget.value)},error:!!i,label:"Title",variant:"outlined",helperText:i&&"Title is required"}),Object(at.jsx)(z.a,{color:"primary",onClick:d,children:Object(at.jsx)(ct.a,{})})]})})),ot=a.a.memo((function(t){var e=t.value,n=t.changeTitle,a=Object(c.useState)(e),i=Object(et.a)(a,2),o=i[0],s=i[1],r=Object(c.useState)(!1),l=Object(et.a)(r,2),u=l[0],d=l[1],j=Object(c.useCallback)((function(){d(!0),n(e)}),[n,e]),b=Object(c.useCallback)((function(){d(!1),n(o)}),[n,o]);return u?Object(at.jsx)(nt.a,{onChange:function(t){s(t.currentTarget.value)},value:o,onBlur:b,onKeyPress:function(t){"Enter"===t.key&&b()},autoFocus:!0}):Object(at.jsx)("span",{onDoubleClick:j,children:e})})),st=n(134),rt=n(143),lt=a.a.memo((function(t){var e=t.task,n=t.removeTask,a=t.changeTaskStatus,i=t.changeTaskTitle,o=t.todoListID,r=Object(c.useCallback)((function(){return n(e.id,o)}),[e.id,o,n]),l=Object(c.useCallback)((function(t){var n=t.currentTarget.checked;a(e.id,n?s.Completed:s.New,o)}),[e.id,o,a]),u=Object(c.useCallback)((function(t){i(e.id,t,o)}),[e.id,o,i]);return Object(at.jsxs)("div",{className:e.status===s.Completed?"is-done":"",children:[Object(at.jsx)(rt.a,{checked:e.status===s.Completed,onChange:l,color:"primary"}),Object(at.jsx)(ot,{changeTitle:u,value:e.title}),Object(at.jsx)(z.a,{onClick:r,children:Object(at.jsx)(st.a,{color:"secondary"})})]})})),ut=a.a.memo((function(t){var e=t.title,n=t.todoListID,a=t.tasks,i=t.changeTaskTitle,o=t.deleteTodoList,r=t.filter,u=t.removeTask,d=t.changeFilter,j=t.addTask,b=t.changeTaskStatus,f=t.changeTodolistTitle,O=Object(l.b)();Object(c.useEffect)((function(){O(H(n))}),[n,O]);var h=Object(c.useCallback)((function(){return d("all",n)}),[d,n]),k=Object(c.useCallback)((function(){return d("active",n)}),[d,n]),p=Object(c.useCallback)((function(){return d("completed",n)}),[d,n]),v=Object(c.useCallback)((function(){return o(n)}),[o,n]),m=Object(c.useCallback)((function(t){f(t,n)}),[f,n]),T=Object(c.useCallback)((function(t){j(t,n)}),[j,n]),x=a;"completed"===r&&(x=a.filter((function(t){return t.status===s.Completed}))),"active"===r&&(x=a.filter((function(t){return t.status===s.New})));var C=x.map((function(t){return Object(at.jsx)(lt,{task:t,removeTask:u,todoListID:n,changeTaskStatus:b,changeTaskTitle:i},t.id)}));return Object(at.jsx)("div",{children:Object(at.jsxs)("div",{children:[Object(at.jsxs)("h3",{children:[Object(at.jsx)(ot,{value:e,changeTitle:m}),Object(at.jsx)(z.a,{onClick:v,children:Object(at.jsx)(st.a,{color:"secondary"})})]}),Object(at.jsx)(it,{addItem:T}),Object(at.jsx)("div",{style:{listStyle:"none",paddingLeft:"0"},children:C}),Object(at.jsxs)("div",{children:[Object(at.jsx)($.a,{style:{marginLeft:"3px"},color:"primary",variant:"all"===r?"contained":"outlined",onClick:h,children:"All"}),Object(at.jsx)($.a,{style:{marginLeft:"3px"},color:"primary",variant:"active"===r?"contained":"outlined",onClick:k,children:"Active"}),Object(at.jsx)($.a,{style:{marginLeft:"3px"},color:"primary",variant:"completed"===r?"contained":"outlined",onClick:p,children:"Completed"})]})]})})})),dt=function(){var t=Object(l.c)((function(t){return t.todoLists})),e=Object(l.c)((function(t){return t.tasks})),n=Object(l.b)();Object(c.useEffect)((function(){n(S())}),[n]);var a=Object(c.useCallback)((function(t){n(w(t))}),[n]),i=Object(c.useCallback)((function(t){n(E(t))}),[n]),o=Object(c.useCallback)((function(t,e){n(A(t,e))}),[n]),s=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:I,id:t,filter:e}}(e,t))}),[n]),r=Object(c.useCallback)((function(t,e){n(R(t,e))}),[n]),u=Object(c.useCallback)((function(t,e){n(M(t,e))}),[n]),d=Object(c.useCallback)((function(t,e,c){n(U(t,{status:e},c))}),[n]),j=Object(c.useCallback)((function(t,e,c){n(U(t,{title:e},c))}),[n]),b=t.map((function(t){return Object(at.jsx)(Z.a,{item:!0,children:Object(at.jsx)(tt.a,{elevation:20,style:{padding:"15px"},children:Object(at.jsx)(ut,{todoListID:t.id,deleteTodoList:i,tasks:e[t.id],title:t.title,filter:t.filter,addTask:u,changeTaskTitle:j,changeTaskStatus:d,removeTask:r,changeFilter:s,changeTodolistTitle:o})})},t.id)}));return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)(Z.a,{container:!0,style:{padding:"20px 0"},children:Object(at.jsx)(it,{addItem:a})}),Object(at.jsx)(Z.a,{container:!0,spacing:3,style:{justifyContent:"space-evenly"},children:b})]})},jt=function(){return Object(at.jsxs)("div",{className:"App",children:[Object(at.jsx)(V.a,{position:"static",children:Object(at.jsxs)(W.a,{style:{justifyContent:"space-between"},children:[Object(at.jsx)(z.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(at.jsx)(X.a,{})}),Object(at.jsx)(Y.a,{variant:"h6",children:"TodoLists"}),Object(at.jsx)($.a,{variant:"outlined",color:"inherit",children:"Login"})]})}),Object(at.jsx)(Q.a,{fixed:!0,children:Object(at.jsx)(dt,{})})]})};o.a.render(Object(at.jsx)(l.a,{store:J,children:Object(at.jsx)(jt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},76:function(t,e,n){},98:function(t,e,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.07cb1f9e.chunk.js.map